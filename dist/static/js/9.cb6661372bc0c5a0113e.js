webpackJsonp([9],{RPpC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("QmSG"),n={name:"brand-form",props:{oldBrand:Object,isEdit:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},data:function(){return{baseUrl:r.a.api,valid:!1,brand:{name:"",image:"",letter:"",categories:[]},imageDialogVisible:!1}},watch:{oldBrand:{deep:!0,handler:function(e){Object.deepCopy(e,this.brand)}}},methods:{submit:function(){var e=this;this.$refs.brandForm.validate()&&(this.brand.categories=this.brand.categories.map(function(e){return e.id}),this.brand.letter=this.brand.letter.toUpperCase(),this.$http({method:this.isEdit?"put":"post",url:"/item/brand",data:this.$qs.stringify(this.brand)}).then(function(){e.$message.success("保存成功！"),e.closeWindow()}).catch(function(){e.$message.error("保存失败！")}))},clear:function(){this.$refs.brandForm.reset(),this.categories=[]},handleImageSuccess:function(e){this.brand.image=e},removeImage:function(){this.brand.image=""},closeWindow:function(){this.$emit("close")}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"brandForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"品牌名称",rules:[function(e){return!!e||"品牌名称不能为空"}],counter:10,required:""},model:{value:e.brand.name,callback:function(t){e.$set(e.brand,"name",t)},expression:"brand.name"}}),e._v(" "),a("v-text-field",{attrs:{label:"首字母",rules:[function(e){return 1===e.length||"首字母只能是1位"}],required:"",mask:"A"},model:{value:e.brand.letter,callback:function(t){e.$set(e.brand,"letter",t)},expression:"brand.letter"}}),e._v(" "),a("v-cascader",{attrs:{url:"/item/category/list",required:"",multiple:"",label:"商品分类"},model:{value:e.brand.categories,callback:function(t){e.$set(e.brand,"categories",t)},expression:"brand.categories"}}),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("span",{staticStyle:{"font-size":"16px",color:"#444"}},[e._v("品牌LOGO：")])]),e._v(" "),a("v-flex",[a("v-upload",{attrs:{url:"/item/upload",multiple:!1,"pic-width":250,"pic-height":90},model:{value:e.brand.image,callback:function(t){e.$set(e.brand,"image",t)},expression:"brand.image"}})],1)],1),e._v(" "),a("v-layout",{staticClass:"my-4"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),a("v-btn",{attrs:{color:"warning"},on:{click:e.clear}},[e._v("重置")])],1)],1)},staticRenderFns:[]};var s=a("VU/8")(n,i,!1,function(e){a("vchh")},"data-v-166e50c5",null);t.default=s.exports},vchh:function(e,t){}});
//# sourceMappingURL=9.cb6661372bc0c5a0113e.js.map